# task.txt

## TASK 1 — Make "Log Past Workout" a full-page screen

Context:
In the History tab, there is a full-width row button labeled "➕ Log Past Workout" under the History / Calendar / Exercises tabs.
Tapping it still opens a dialog/box with the old constrained form. We want a dedicated full-screen page.

Goal:
Tapping "Log Past Workout" should navigate to a NEW full-screen screen, not open a dialog.

Implementation:

1. New screen/route
   - Create `LogPastWorkoutScreen`.
   - Use the same page layout used by other main screens:
     - App background, top safe area.
     - Header with back button (returns to History) and title "Log Past Workout".
   - Body contains the updated workout log form:
     - Date (required), Time (optional).
     - Load from routine dropdown.
     - Workout name.
     - Duration (min).
     - Exercises section with Add/Edit/Remove.
   - Body must be scrollable with bottom padding so the primary button stays reachable when the keyboard is open.

2. Wire the History row to this screen
   - Change the onPress/onClick of the "Log Past Workout" row to:
     - Navigate to `LogPastWorkoutScreen`.
   - Remove any code that opens the old modal/bottom sheet in this flow.

3. Remove/disable old dialog
   - Find the legacy dialog/bottom sheet used for logging past workouts.
   - Ensure it is not referenced from the History tab anymore.
   - If not used elsewhere, deprecate or delete it.

Acceptance:
- Tapping "Log Past Workout" always opens a full-screen page.
- No dialog/box appears in this flow.
- The screen visually matches the rest of the updated app.

------------------------------------------------------------

## TASK 2 — Make Edit Profile a full-page screen

Context:
In Settings, the top profile card (with avatar, name, level, age) has an edit icon.  
Tapping the edit icon currently opens an old-style dialog/box. We want a full-page edit screen.

Goal:
Tapping the profile edit icon should navigate to a NEW full-screen "Edit Profile" page.

Implementation:

1. New screen/route
   - Create `EditProfileScreen`.
   - Layout:
     - Full-screen page with header (back button → Settings, title "Edit Profile").
     - Scrollable body with profile form.
   - Form fields should include:
     - Existing profile data (name, age, lifter level, etc.).
     - Any extended health metrics already in the app (height, weight, goal, etc.).
   - Use the same input components, spacing, and primary button style as other updated forms.

2. Wire edit icon to this screen
   - Change onPress/onClick of the edit icon in the Settings profile card to:
     - Navigate to `EditProfileScreen`.
   - Remove the old dialog open logic.

3. Remove/disable old profile dialog
   - Find the legacy edit-profile dialog component.
   - Ensure no navigation path uses it.
   - Deprecate or delete if no longer needed.

Acceptance:
- Tapping the edit icon always opens the full-page "Edit Profile" screen.
- No dialog/box appears for profile editing.
- The edit UI is consistent with the new app aesthetic.

------------------------------------------------------------

## TASK 3 — Make "Add New Routine" in Plans a full-page flow

Context:
In the Plans tab:
- There is a bottom row button "+ Add New Routine".
- Tapping it opens a centered "Add New Routine" dialog with three options:
  - Choose Template
  - AI Generate
  - Create Custom
This dialog uses the old modal style and is visually inconsistent.

Goal:
Convert "Add New Routine" into a full-page flow. The user should see these three options on a dedicated screen instead of inside a box.

Implementation:

1. New screen/route for entry
   - Create `AddRoutineEntryScreen`.
   - Layout:
     - Full-screen page, matching other main screens.
     - Header with back button (returns to Plans) and title "Add New Routine".
     - Body listing three full-width cards:
       - "Choose Template"
       - "AI Generate"
       - "Create Custom"
     - Each card uses the same card style as other lists in the app (rounded, consistent padding, icon + title + subtitle).

2. Wire Plans → Add New Routine to this screen
   - Change onPress/onClick of:
     - The bottom "+ Add New Routine" row.
     - The header plus icon (if present).
     so that both navigate to `AddRoutineEntryScreen`.
   - Remove any logic that opens the old "Add New Routine" dialog.

3. Connect the three options to their respective full-page flows
   - On `AddRoutineEntryScreen`:
     - "Choose Template" → navigate to template selection screen (existing screen or new full-page `RoutineTemplatesScreen`).
     - "AI Generate" → navigate to the AI-based Add Routine screen (`AddRoutineAIScreen` — the new full-page form you already have).
     - "Create Custom" → navigate to `CreateCustomRoutineScreen`.
   - Ensure each of these destinations is also a full-page screen (no nested modal boxes) and uses the updated design system.

4. Remove/disable old Add Routine dialog
   - Find the legacy "Add New Routine" modal.
   - Ensure it is not used anywhere in the Plans tab.
   - Deprecate or delete if not required.

Acceptance:
- Tapping "+ Add New Routine" in Plans always opens `AddRoutineEntryScreen` (full page).
- From that screen, each option takes the user to a full-page flow.
- No modal/box version of "Add New Routine" is visible anywhere.
- Visual style across Plans → Add Routine is consistent with the rest of the app.

------------------------------------------------------------

## TASK 4 — Consistency guard for page vs dialog patterns

Goal:
Ensure that key flows use full-page screens instead of legacy modal boxes.

Steps:
1. Search the codebase for legacy modal/bottom-sheet components used for:
   - Past workout logging
   - Profile editing
   - Add routine
2. Confirm that:
   - Past workouts: only `LogPastWorkoutScreen` is used.
   - Profile edits: only `EditProfileScreen` is used.
   - Add routine: `AddRoutineEntryScreen` and its child screens are used.
3. Remove or clearly mark any unused legacy modals as deprecated.

Acceptance:
- From the user perspective, all three flows feel like first-class pages.
- No old, small box-style dialogs appear for these actions.